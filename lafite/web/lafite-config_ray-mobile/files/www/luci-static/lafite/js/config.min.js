(function(){"use strict";angular.module("pandorabox.config").controller("RFooterController",["$scope","$timeout","Fn",function(n,t,e){n.changeLang=function(){var n;return n=null,function(r){return null==n&&(n=t(function(){return n=null},300),angular.isString(r)||(r="zh_cn"),e.changeSystemLanguage(function(){switch(!0){case/^zh_cn$/i.test(r):return"zh_cn";case/^en_us$/i.test(r):return"en_us";default:return"zh_cn"}}()))}}()}]).run(["LFFooter",function(n){return n.setFooterTpl("/luci-static/lafite/htm/footer/footer.htm")}])}).call(this);
(function(){"use strict";var n;n=angular.module("pandorabox.config"),n.value("Config",{main:{theme:{name:"ray"},plugins:["core","rauth","rguide","roverview","rnetstus","rclientlist","rwireless_basic","rwireless_relay","rstorage","samba","rmodulestore","iplist","rlan","rsecurity","about","rsim"]},NAV:{list:{status:["roverview","rnetstus","rclientlist"],wireless:["rwireless_basic","rwireless_relay"],storage:["rstorage","samba"],plugins:["rmodulestore","iplist"],setting:["rsim","rlan","rsecurity","about"]}}}),n.run(["$rootScope","Config",function(n,e){return n.$on("board.id.update",function(n,t){return"pbr-c1"===t&&(e.main.plugins.push("rsim"),e.Nav.list.setting.push("rsim"),e.Nav.list.setting=e.Nav.list.setting.slice(1),!0)})}]),n.service("initNav",["$location","Nav","$UCI","Fn","Status","Config",function(n,e,t,i,r,a){var s,u;s=angular.copy(a.NAV.list),u=function(n){var i,s,u,o,l,c,f;e.setNav(function(){var e;e=[];for(i in n)u=n[i],e.push({title:i,sub:u||[]});return e}()),null==r.nav&&(r.nav={}),r.nav.list=[],c=t.$Native.lafite;for(o in c)s=c[o],"plugin"===s[".type"]&&(l={name:o,category:s.category,enabled:null!=(f=s.enabled)?f:"0"},-1!==a.main.plugins.indexOf(o)&&(l["default"]=!0),r.nav.list.push(l))},u(s),e.setNavFn(function(e,t,r){0!==r.sub.length&&i.loadPartialLang(r.sub).then(function(){return n.path("/pages/"+r.sub[0])})}),e.setSubnavFn(function(e,t,i){n.path("/pages/"+e)}),e.setNavLinkFn(function(n,e,t){var i;return i=document.getElementById("js-view-box"),n.$on("page.main.current",function(n,e){var t,r,s,u;u=a.NAV.list;for(s in u)r=u[s],~r.indexOf(e)&&(t=s);return i.className=t+"-bgcolor"}),n.$on("nav_done",function(n,t){return t.bind("click",function(){return e.next().removeClass("subnav-collapsed")})})}),e.setSubnavLinkFn(function(n,e,t){return n.$on("subnav_done",function(n,t){return t.bind("click",function(){return e.addClass("subnav-collapsed")})})}),t.$setEvent("$sync",function(e){var i,r,a,o,l,c,f,v,g,p,d,b,h;if("lafite"===e){r=function(){var n;n=[];for(c in s)l=s[c],n.push(""+c+l.join(""));return n}().join(""),p=t.$Native.lafite;for(c in p)if(g=p[c],"plugin"===g[".type"]&&!/core|auth|guide/.test(g.category)){l=[];for(i in s)o=s[i],l=l.concat(o);-1===l.indexOf(c)&&s.plugins.push(c)}f=Object.keys(t.$Native.lafite);for(c in s){for(l=s[c],h=[],a=0,v=l.length;a<v;a++)o=l[a],-1===f.indexOf(o)&&h.push(o);0!==h.length&&(s[c]=function(){var n,e,t,i;for(t=s[c],i=[],n=0,e=t.length;n<e;n++)o=t[n],-1===h.indexOf(o)&&i.push(o);return i}())}if(r!==function(){var n;n=[];for(c in s)l=s[c],n.push(""+c+l.join(""));return n}().join("")){u(s),d=t.$Native.lafite;for(c in d)if(o=d[c],"guide"===o.category&&"1"===o.enabled)return void n.path("/pages/"+o[".name"]);b=t.$Native.lafite;for(c in b)if(o=b[c],"auth"===o.category&&"1"===o.enabled)return void n.path("/pages/"+o[".name"])}}})}])}).call(this);
(function(){"use strict";var n;n=angular.module("pandorabox.config"),n.controller("NavAboutController",["$scope","$location",function(n,t){n.jumpAbout=function(){t.path("/pages/about")}}]),n.controller("TranslateController",["$scope","$timeout","Fn",function(n,t,u){n.changeLang=function(){var n;return n=null,function(a){return null==n&&(n=t(function(){return n=null},300),angular.isString(a)||(a="zh_cn"),u.changeSystemLanguage(function(){switch(!0){case/^zh_cn$/i.test(a):return"zh_cn";case/^en_us$/i.test(a):return"en_us";default:return"zh_cn"}}()))}}()}]),n.run(["Nav",function(n){n.setSubnavTpl("/luci-static/lafite/htm/nav/subnav.htm")}])}).call(this);
(function(){"use strict";angular.module("pandorabox.config").config(["$locationProvider",function(n){n.html5Mode(!1).hashPrefix("!engine=PandoraBox&current=")}])}).call(this);
(function(){"use strict";angular.module("pandorabox.config").run(function(){var t,e,s,c,i;for(i=["/luci-static/lafite/css/style.min.css","/luci-static/lafite/css/config_ray.css"],e=0,c=i.length;e<c;e++)s=i[e],t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",s),document.head.appendChild(t)})}).call(this);
(function(){"use strict";var a;a=angular.module("pandorabox.config"),a.run(["Fn",function(a){a.loadPartialLang("config_ray")}])}).call(this);
(function(){"use strict";angular.module("pandorabox.config").run(["$UCI","$rootScope","Status",function(n,e,a){n.$setAutoSave(!0),e.$on("page.main.current",function(e,t){var u;angular.isUndefined(t)||0!==t.length&&(u=a.nav.plugins.guide,angular.isDefined(u&&0!==u.length)&&-1!==t.indexOf(u[0])&&n.$setAutoSave(!1))})}])}).call(this);
(function(){"use strict";var a;a=angular.module("pandorabox.config"),a.controller("UsageController",["$scope","$timeout","$UCI",function(a,t,n){var e;a.existUsageData=!1,e="GET df -h /",a.usageStyle={width:"0%"},a.usageStr="0M / 0M",t(function(){return n.$command(e,"now").then(function(t){var n,e;a.existUsageData=!0,"ok"===t.status&&angular.isArray(t.commands)&&(t=t.commands[0].content[1],t=t.split(/\s+/),angular.isArray(t)&&6===t.length&&(a.usageStyle.width=t[4],e=t[2],n=t[1],a.usageStr=e+" / "+n))})},1e3)}])}).call(this);