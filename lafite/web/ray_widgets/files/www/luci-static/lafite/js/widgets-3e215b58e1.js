(function(){"use strict";var n;n=angular.module("pandorabox.pages"),n.register.controller("RayWidgetsController",["$scope","$rootScope","$UCI","Config","Fn","Status",function(n,l,e,t,i,u){var a,o,r,s,d,c,g,f,p,h;n.perItem=8,p=null!=(c=e.lafite)?c:{},null!=p.main&&delete p.main,null==u.widgetList&&(u.widgetList={"default":[],installed:[],ninstall:[]}),o=null!=(g=u.widgetList["default"])?g:[],r=null!=(f=u.widgetList.installed)?f:[],n.widgetList=[].concat(o).concat(r),o=function(){var n,l,e,i,u,a,o,r,d,c,g,f,h,v;for(d=null!=(o=null!=t&&null!=(r=t.main)?r.plugins:void 0)?o:[],v=[],n=0,l=d.length;n<l;n++)s=d[n],v.push({name:s,type:"default",detail:null!=(c=null!=(g=p[s])?g.description:void 0)?c:"Empty Detail for the widget",version:null!=(f=null!=(h=p[s])?h.version:void 0)?f:"x.x.x",release:null!=(e=null!=(i=p[s])?i.release:void 0)?e:"X",hashcode:null!=(u=null!=(a=p[s])?a.hashcode:void 0)?u:null,size:null});return v}(),r=function(){var n,l,e,i,u,a,o;o=[];for(d in p)h=p[d],-1===(null!=(n=null!=t&&null!=(l=t.main)?l.plugins:void 0)?n:[]).indexOf(d)&&"plugin"===h[".type"]&&o.push({name:d,type:"installed",detail:null!=(e=h.description)?e:"Empty Detail for the widget",version:null!=(i=h.version)?i:"x.x.x",release:null!=(u=h.release)?u:"X",hashcode:null!=(a=h.hashcode)?a:null,size:null});return o}(),a=[].concat(o).concat(r),i.loadPartialLang(function(){var n,l,e,t;for(e=a.slice(0,9),t=[],n=0,l=e.length;n<l;n++)s=e[n],t.push(s.name);return t}()).then(function(){return n.widgetList=a}).then(function(){return i.loadPartialLang(function(){var n,l,e;for(e=[],n=0,l=a.length;n<l;n++)s=a[n],e.push(s.name);return e}())}),n.widgetAction=function(n){n["default"]},n.pageAction=function(l){n.curPage=l},l.$on("page.main.current",function(n,l){"widgets"===l&&(u.widgetList["default"]=o,u.widgetList.installed=r)})}])}).call(this);