<div class="container"><div class="content"><div class="title"><label ng-bind="'samba' | translate"></label><div switch model="enabled" url="/cgi-bin/luci/api/samba/setter" data-enabled="{{samba.enabled}}" data-wname="{{samba.wname}}" data-type="global" switch-flag="samba.enabled" ng-if="samba.enabled!==null"></div></div><form name="frm_samba" ng-submit="sambaApply()" ng-show="samba.enabled==='1'"><div class="input-group" ng-class="{'warning': !frm_samba.device.$valid && frm_samba.device.$touched}"><input name="device" type="text" ng-model="samba.name" ng-pattern="/\S*/" ng-minlength="1" ng-maxlength="256" required id="input_dev"><label for="input_dev" ng-bind="'sambaDevice' | translate"></label></div><div ng-messages="frm_samba.device.$error" ng-show="!frm_samba.device.$valid&&frm_samba.device.$touched"><div ng-message-exp="['required', 'minlength', 'maxlength']">{{'tipsSambaDevice' | translate }}</div></div><div class="input-group" ng-class="{'warning': !frm_samba.description.$valid && frm_samba.description.$touched}"><input name="description" type="text" ng-model="samba.description" ng-pattern="/\S*/" ng-minlength="1" ng-maxlength="256" required id="input_desc"><label for="input_desc" ng-bind="'sambaDescription' | translate"></label></div><div ng-messages="frm_samba.description.$error" ng-show="!frm_samba.description.$valid&&frm_samba.description.$touched"><div ng-message-exp="['required', 'minlength', 'maxlength']">{{'tipsSambaDescription' | translate}}</div></div><div class="input-group" ng-class="{'warning': !frm_samba.workgroup.$valid && frm_samba.workgroup.$touched}" ng-if="samba.expert"><input name="workgroup" type="text" ng-model="samba.workgroup" ng-pattern="/\S*/" ng-minlength="1" ng-maxlength="256" required id="input_workgroup"><label for="input_workgroup" ng-bind="'sambaWorkgroup' | translate"></label></div><div ng-messages="frm_samba.workgroup.$error" ng-show="!frm_samba.workgroup.$valid&&frm_samba.workgroup.$touched"><div ng-message-exp="['required', 'minlength', 'maxlength']">{{'tipsSambaWorkgroup' | translate}}</div></div><div class="input-group dropdown short" ng-if="samba.expert"><label class="suffix"></label><input type="text" ng-readonly="true" ng-value="samba.homes_text | translate" placeholder="{{'admin_pls_select' | translate}}"><select ng-model="samba.homes_text"><option ng-repeat="item in samba.option" ng-bind="item | translate" value="{{item}}"></option></select><label for="" ng-bind="'shareDir' | translate"></label><ul class="dropdown-list"><li ng-repeat="item in samba.option" ng-click="changeOption('home', item)" ng-bind="item | translate"></li></ul></div><div class="input-group dropdown short"><label class="suffix"></label><input type="text" ng-readonly="true" ng-value="samba.autoshare_text | translate" placeholder="{{'admin_pls_select' | translate}}"><select ng-model="samba.autoshare_text"><option ng-repeat="item in samba.option" ng-bind="item | translate" value="{{item}}"></option></select><label for="" ng-bind="'autoShare' | translate"></label><ul class="dropdown-list"><li ng-repeat="item in samba.option" ng-click="changeOption('auto',item)" ng-bind="item | translate"></li></ul></div><input class="btn" type="submit" ng-value="'apply'|translate" ng-disabled="!frm_samba.$valid"></form><div class="hr"></div><div class="title" ng-if="samba.devnum<=0 && samba.enabled==='1'"><label ng-bind="'nodevice' | translate"></label></div><form ng-submit="updateDir()" ng-if="samba.devnum>0 && samba.enabled==='1'"><div class="title"><label ng-bind="'sharedInfo' | translate"></label></div><table class="table"><thead class="table-head"><tr><th ng-bind="'sambaShareName' | translate"></th><th ng-bind="'sambaPath' | translate"></th><th ng-if="samba.expert" ng-bind="'sambaAllowUser' | translate"></th><th ng-if="samba.expert" ng-bind="'sambaReadOnly' | translate"></th><th ng-bind="'sambaAllowAny' | translate"></th><th ng-if="samba.expert" ng-bind="'sambaAllowWrite' | translate"></th><th ng-if="samba.expert" ng-bind="'sambaTree' | translate"></th><th ng-bind="'sambaAction' | translate"></th></tr></thead><tbody class="table-body" ng-class="{empty: !samba.sub.length||samba.sub.length===0}"><tr ng-repeat="item in samba.sub | orderBy: 'name'"><td ng-bind="item.name"></td><td ng-bind="item.path"></td><td ng-if="samba.expert" ng-bind="item.users"></td><td ng-if="samba.expert" ng-bind="item.read_only"></td><td ng-bind="item.guest_ok"></td><td ng-if="samba.expert" ng-bind="item.create_mask"></td><td ng-if="samba.expert" ng-bind="item.dir_mask"></td><td><a href="javascript:;" ng-click="updateDir(item)" ng-bind="'Update' | translate"></a> <a href="javascript:;" ng-click="deleteDir(item)" ng-bind="'Delete' | translate"></a></td></tr></tbody></table><p class="table-empty" ng-show="!samba.sub.length||samba.sub.length===0" ng-bind="'list_empty' | translate"></p><input class="btn" type="submit" ng-value="'add' | translate"></form></div></div>